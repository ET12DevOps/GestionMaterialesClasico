@model IEnumerable<gestionmateriales.Models.OficinaTecnica.Documentos.OrdenTrabajoAplicacion>
@{
    ViewBag.Title = "OrdenTrabajo";
}

<div class="container-fluid">
    <h1 class="display-4">Orden de Trabajo de Aplicación</h1>
    <div class="row">
        <div class="col-md-6">
            <p>Ordenes de trabajo de aplicación</p>
        </div>
        <div class="offset-4 col-md-2">
            <a id="btn_nuevarordentrabajo" class="btn btn-block btn-outline-primary" href="~/OrdenTrabajoAplicacion/Agregar" role="button" data-toggle="tooltip" data-placement="right" title="Genera una nueva orden de trabajo de aplicación"><i class="fas fa-file-alt"></i> Nueva Orden</a>
        </div>
    </div>
    <hr />
    <div class="row">
        <table id="tabla_ordenpedido" class="table table-bordered table-striped table-hover">
            <thead>
                <tr>
                    <th>
                        Número
                    </th>
                    <th>
                        Fecha
                    </th>
                    <th>
                        Turno
                    </th>
                    <th>
                        Orden de Trabajo
                    </th>
                    <th>
                        Responsable
                    </th>
                    <th>
                        Jefe de Sección
                    </th>
                    <th>
                        #Items
                    </th>
                    <th>
                        <span class="glyphicon glyphicon-pencil" aria-hidden=true></span>
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.numero)
                        </td>
                        <td>
                            @item.fecha.ToString("dd-MM-yyyy")
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.turno.nombre)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.nombre)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.responsable.nombre)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.jefeSeccion.nombre)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.itemsOTA.Count)
                        </td>
                        <td>
                            @Html.ActionLink("Editar", "Editar", new { id = item.idOrdenTrabajoAplicacion, nro = item.numero, name = item.nombre })
                        </td>
                    </tr>
                }
            </tbody>
        </table>
        <script type="text/javascript">
            $('#tabla_ordenpedido').DataTable({
                "language": {
                    "decimal": "",
                    "emptyTable": "No hay información disponible para mostrar",
                    "info": "Mostrando _START_ a _END_ de _TOTAL_ entradas",
                    "infoEmpty": "No hay ordenes para mostrar",
                    "infoFiltered": "(filtrados de _MAX_ ordenes totales)",
                    "infoPostFix": "",
                    "thousands": ",",
                    "lengthMenu": "Ver _MENU_ ordenes por página",
                    "loadingRecords": "Cargando...",
                    "processing": "En proceso...",
                    "search": "Buscar",
                    "zeroRecords": "No hay ordenes que coincidan con el filtro",
                    "paginate": {
                        "first": "Primera",
                        "last": "Última",
                        "next": "Siguiente",
                        "previous": "Anterior"
                    }
                }
            });
            $('#btn_nuevarordentrabajo').tooltip();
        </script>
    </div>
</div>
